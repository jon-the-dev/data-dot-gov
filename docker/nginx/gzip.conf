# Gzip compression configuration for Congressional Transparency Platform

# Enable gzip compression
gzip on;

# Set compression level (1-9, 6 is optimal balance)
gzip_comp_level 6;

# Minimum file size to compress (bytes)
gzip_min_length 1024;

# Enable compression for proxied requests
gzip_proxied any;

# Vary header for proper caching
gzip_vary on;

# Buffer size for compression
gzip_buffers 16 8k;

# HTTP version for compression
gzip_http_version 1.1;

# MIME types to compress
gzip_types
    application/atom+xml
    application/geo+json
    application/javascript
    application/x-javascript
    application/json
    application/ld+json
    application/manifest+json
    application/rdf+xml
    application/rss+xml
    application/xhtml+xml
    application/xml
    font/eot
    font/otf
    font/ttf
    image/svg+xml
    text/css
    text/javascript
    text/plain
    text/xml
    text/x-component
    text/x-cross-domain-policy;

# Don't compress already compressed files
gzip_disable "msie6";

# Brotli compression (if nginx-module-brotli is available)
# brotli on;
# brotli_comp_level 6;
# brotli_min_length 1024;
# brotli_types
#     application/atom+xml
#     application/javascript
#     application/json
#     application/rss+xml
#     application/vnd.ms-fontobject
#     application/x-font-opentype
#     application/x-font-truetype
#     application/x-font-ttf
#     application/x-javascript
#     application/xhtml+xml
#     application/xml
#     font/eot
#     font/opentype
#     font/otf
#     font/truetype
#     image/svg+xml
#     image/vnd.microsoft.icon
#     image/x-icon
#     image/x-win-bitmap
#     text/css
#     text/javascript
#     text/plain
#     text/xml;